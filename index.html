<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PapRemoval.com - Haath Badhao, Paap Ghatao!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            color: #333333;
        }
        .text-saffron { color: #FF9933; }
        .bg-saffron { background-color: #FF9933; }
        .hover\:bg-saffron-dark:hover { background-color: #e68a2e; }
        .border-saffron { border-color: #FF9933; }
        .text-teal { color: #008080; }
        .bg-teal { background-color: #008080; }
        .hover\:bg-teal-dark:hover { background-color: #006666; }
        .border-teal { border-color: #008080; }
        .pap-meter-fill {
            transition: width 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .punya-score-text {
            transition: all 1.5s ease-in-out;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .carousel-item {
            display: none;
            transition: opacity 1s ease-in-out;
        }
        .carousel-item.active {
            display: block;
            opacity: 1;
        }
        .flower {
            position: fixed;
            top: -20px;
            font-size: 1.5rem;
            animation: fall linear forwards;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.7;
        }
        @keyframes fall {
            to {
                transform: translateY(105vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
    <script src="https://unpkg.com/highlight.run"></script>
    <script>
        H.init('kgr015mg', { // Get your project ID from https://app.highlight.io/setup
            environment: 'production',
            version: 'commit:abcdefg12345',
            networkRecording: {
                enabled: true,
                recordHeadersAndBody: true,
                urlBlocklist: [
					// insert full or partial urls that you don't want to record here
					// Out of the box, Highlight will not record these URLs (they can be safely removed):
					"https://www.googleapis.com/identitytoolkit",
					"https://securetoken.googleapis.com",
                ],
            },
        });
    </script>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header id="header" class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2 page-link" data-page="home">
             <!-- Replace your current SVG logo in the header nav with this: -->
<svg class="h-8 w-8" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Helping People Logo">
  <g>
    <circle cx="32" cy="8" r="4" fill="#FF9933"/>
    <circle cx="56" cy="20" r="4" fill="#008080"/>
    <circle cx="56" cy="44" r="4" fill="#4CAF50"/>
    <circle cx="32" cy="56" r="4" fill="#2196F3"/>
    <circle cx="8" cy="44" r="4" fill="#E91E63"/>
    <circle cx="8" cy="20" r="4" fill="#FFC107"/>
    <!-- Arms/legs -->
    <path d="M32 12v8" stroke="#FF9933" stroke-width="2" stroke-linecap="round"/>
    <path d="M52.97 22.83l-6.93 4" stroke="#008080" stroke-width="2" stroke-linecap="round"/>
    <path d="M52.97 41.17l-6.93-4" stroke="#4CAF50" stroke-width="2" stroke-linecap="round"/>
    <path d="M32 52v-8" stroke="#2196F3" stroke-width="2" stroke-linecap="round"/>
    <path d="M11.03 41.17l6.93-4" stroke="#E91E63" stroke-width="2" stroke-linecap="round"/>
    <path d="M11.03 22.83l6.93 4" stroke="#FFC107" stroke-width="2" stroke-linecap="round"/>
    <!-- Connecting hands -->
    <path d="M36 10c6 2 12 6 16 10" stroke="#FF9933" stroke-width="2" stroke-linecap="round"/>
    <path d="M54 24c2 6 2 10 0 16" stroke="#008080" stroke-width="2" stroke-linecap="round"/>
    <path d="M52 50c-6 2-10 2-16 0" stroke="#4CAF50" stroke-width="2" stroke-linecap="round"/>
    <path d="M28 54c-6-2-12-6-16-10" stroke="#2196F3" stroke-width="2" stroke-linecap="round"/>
    <path d="M10 40c-2-6-2-10 0-16" stroke="#E91E63" stroke-width="2" stroke-linecap="round"/>
    <path d="M12 14c6-2 10-2 16 0" stroke="#FFC107" stroke-width="2" stroke-linecap="round"/>
  </g>
</svg>
                <span class="text-2xl font-bold text-gray-800">Pap<span class="text-saffron">Removal</span></span>
            </a>
            <div class="hidden lg:flex items-center space-x-8">
                <a href="#home" class="text-gray-600 hover:text-teal font-medium page-link" data-page="home">Home</a>
                <a href="#seva-stories" class="text-gray-600 hover:text-teal font-medium page-link" data-page="seva-stories">Seva Stories</a>
                <a href="#leaderboard" class="text-gray-600 hover:text-teal font-medium page-link" data-page="leaderboard">Leaderboard</a>
                <a href="#opportunities" class="text-gray-600 hover:text-teal font-medium page-link" data-page="opportunities">Opportunities</a> 
                <a href="#admin" id="admin-tab-link" class="text-gray-600 hover:text-teal font-medium page-link hidden" data-page="admin">Admin</a>
                <a href="#donate" class="text-gray-600 hover:text-teal font-medium page-link" data-page="donate">Donate</a>
            </div>
            <div id="auth-links" class="hidden lg:flex items-center space-x-4">
                <a href="#" class="text-gray-600 hover:text-teal font-medium page-link" data-page="login">Login</a>
                <div class="relative">
                    <button id="register-dropdown-button" class="bg-teal text-white font-bold py-2 px-6 rounded-full hover:bg-teal-dark transition duration-300 flex items-center gap-2">
                        Register
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="register-dropdown-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 page-link" data-page="sahayak-register">As a Sahayak</a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 page-link" data-page="sevak-register">As a Sevak</a>
                    </div>
                </div>
            </div>
             <div id="user-session" class="hidden lg:flex items-center space-x-4">
                <a href="#" class="page-link" data-page="dashboard">
                    <span id="user-email" class="text-gray-600 font-medium hover:text-teal"></span>
                </a>
                <div class="flex items-center gap-2 bg-green-100 text-green-700 font-bold px-3 py-1 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                    <span id="user-punya-points">0</span>
                </div>
                <button id="logout-button" class="bg-saffron text-white font-bold py-2 px-6 rounded-full hover:bg-saffron-dark transition duration-300">Logout</button>
            </div>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="lg:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden px-6 pb-4">
            <a href="#home" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="home">Home</a>
            <a href="#seva-stories" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="seva-stories">Seva Stories</a>
            <a href="#leaderboard" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="leaderboard">Leaderboard</a>
            <a href="#opportunities" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="opportunities">Opportunities</a>
            <a href="#admin" id="mobile-admin-tab-link" class="block py-2 text-gray-600 hover:text-teal font-medium page-link hidden" data-page="admin">Admin</a>
            <a href="#donate" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="donate">Donate</a>
            <hr class="my-2">
            <div id="mobile-auth-links">
                <a href="#" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="login">Login</a>
                <a href="#" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="sahayak-register">Register as Sahayak</a>
                <a href="#" class="block py-2 text-gray-600 hover:text-teal font-medium page-link" data-page="sevak-register">Register as Sevak</a>
            </div>
            <div id="mobile-user-session" class="hidden">
                 <a href="#" class="block py-2 text-gray-600 font-medium page-link" data-page="dashboard" id="mobile-user-email"></a>
                 <button id="mobile-logout-button" class="w-full mt-2 bg-saffron text-white font-bold py-2 px-6 rounded-full">Logout</button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main>
        <!--Opportunity-->
        <div id="opportunities-page" class="page-content hidden">
            <div class="bg-gray-100 min-h-screen">
                <div class="container mx-auto max-w-2xl py-8 px-4">
                    <div id="post-opportunity-section" class="bg-white p-4 rounded-lg shadow-md mb-8 hidden">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">Post a Volunteer Opportunity</h2>
                        <form id="new-opportunity-form">
                            <div class="space-y-4">
                                <div>
                                    <label for="opportunity-title" class="block text-sm font-medium text-gray-700">Title</label>
                                    <input type="text" id="opportunity-title" placeholder="e.g., Food Distribution Drive" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal" required>
                                </div>
                                <div>
                                    <label for="opportunity-location" class="block text-sm font-medium text-gray-700">Location</label>
                                    <input type="text" id="opportunity-location" placeholder="e.g., Park Street Area, Kolkata" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal" required>
                                </div>
                                <div>
                                    <label for="opportunity-description" class="block text-sm font-medium text-gray-700">Description</label>
                                    <textarea id="opportunity-description" class="w-full p-3 border border-gray-300 rounded-md focus:ring-teal focus:border-teal" rows="5" placeholder="Describe the task, what is needed from volunteers, and how they can help." required></textarea>
                                </div>
                            </div>
                            <div class="flex justify-end items-center mt-4">
                                <button type="submit" id="post-opportunity-button" class="bg-teal text-white font-bold py-2 px-6 rounded-full hover:bg-teal-dark transition disabled:bg-gray-400">Post Opportunity</button>
                            </div>
                        </form>
                    </div>

                    <h1 class="text-3xl font-bold text-gray-800 text-center mb-8">Volunteer Opportunities</h1>
                    <div id="opportunities-feed" class="space-y-6">
                        </div>
                </div>
            </div>
        </div>
        <!-- Homepage -->
        <div id="home-page" class="page-content">
            <!-- Hero Section -->
            <section class="py-20 md:py-32 bg-gray-50">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-6xl font-extrabold text-gray-800 leading-tight">Haath Badhao, <span class="text-saffron">Paap Ghatao!</span></h1>
                    <p class="mt-4 text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">The website where every good deed makes your life a little lighter. Join a community of helpers and seekers, earning blessings one task at a time.</p>
                    <div class="mt-10" id="join-movement-cta">
                        <a href="#" class="bg-teal text-white font-bold py-4 px-10 rounded-full hover:bg-teal-dark transition duration-300 text-lg page-link" data-page="sevak-register">Join the Movement</a>
                    </div>
                </div>
            </section>

            <!-- How It Works (3 Steps) -->
            <section class="py-20 fade-in">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Three Simple Steps to Good Karma</h2>
                        <p class="mt-2 text-gray-600">Start your journey of giving and receiving help.</p>
                    </div>
                    <div class="grid md:grid-cols-3 gap-10 text-center">
                        <div class="p-8 bg-white rounded-xl shadow-md border border-gray-100">
                            <div class="bg-saffron/10 text-saffron p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">1. Ask for Help</h3>
                            <p class="text-gray-600">Post a task you need help with—from daily errands to digital advice.</p>
                        </div>
                        <div class="p-8 bg-white rounded-xl shadow-md border border-gray-100">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">2. Be a Hero</h3>
                            <p class="text-gray-600">Browse and accept tasks near you. Your small act makes a big difference.</p>
                        </div>
                        <div class="p-8 bg-white rounded-xl shadow-md border border-gray-100">
                            <div class="bg-saffron/10 text-saffron p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">3. Watch Your Karma Grow</h3>
                            <p class="text-gray-600">Complete tasks to earn Punya Points,Reedem with exciting merchandies, and climb the leaderboard!</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- A Seva for Every Skill Section -->
            <section class="py-20 bg-gray-50 fade-in">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800">A Seva for Every Skill, A Solution for Every Need</h2>
                        <p class="mt-2 text-gray-600 max-w-3xl mx-auto">From urgent needs to specialized help, our community is ready to assist in countless ways.</p>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                        <div class="p-4">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                            </div>
                            <h3 class="text-lg font-bold">Digital Seva</h3>
                            <p class="text-sm text-gray-600">Help with online tasks, bill payments, and tech support.</p>
                        </div>
                        <div class="p-4">
                            <div class="bg-saffron/10 text-saffron p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 14l9-5-9-5-9 5 9 5z" /><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z" /><path d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z" /></svg>
                            </div>
                            <h3 class="text-lg font-bold">Mentorship Seva</h3>
                            <p class="text-sm text-gray-600">Guide students with their studies and career choices.</p>
                        </div>
                        <div class="p-4">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h3 class="text-lg font-bold">Emergency Alerts</h3>
                            <p class="text-sm text-gray-600">Get notified for urgent, nearby needs like medical aid.</p>
                        </div>
                        <div class="p-4">
                            <div class="bg-saffron/10 text-saffron p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                            </div>
                            <h3 class="text-lg font-bold">Food Seva</h3>
                            <p class="text-sm text-gray-600">Distribute surplus food from homes and events to the needy.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Stories -->
            <section class="py-20 fade-in">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Stories of Seva</h2>
                        <p class="mt-2 text-gray-600">Real stories from our community of kindness.</p>
                    </div>
                    <div id="stories-carousel" class="relative max-w-3xl mx-auto">
                        <div class="carousel-item active">
                            <div class="bg-white p-8 rounded-xl shadow-lg text-center">
                                <img src="https://placehold.co/80x80/FF9933/FFFFFF?text=RS" alt="User" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-saffron">
                                <p class="text-gray-600 italic text-lg">"Rohan helped me set up my UPI payment app. A 10-minute seva that saved me hours of confusion!"</p>
                                <p class="mt-4 font-bold text-gray-800">- Mrs. Sharma, Age 65</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="bg-white p-8 rounded-xl shadow-lg text-center">
                                <img src="https://placehold.co/80x80/008080/FFFFFF?text=AP" alt="User" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-teal">
                                <p class="text-gray-600 italic text-lg">"I needed someone to water my plants while I was away. Anjali, a student nearby, was a lifesaver!"</p>
                                <p class="mt-4 font-bold text-gray-800">- Amit Patel, Age 32</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="bg-white p-8 rounded-xl shadow-lg text-center">
                                <img src="https://placehold.co/80x80/FF9933/FFFFFF?text=SG" alt="User" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-saffron">
                                <p class="text-gray-600 italic text-lg">"Helping an elderly uncle carry his groceries up the stairs was a small thing, but it made my day. The Punya points were a bonus!"</p>
                                <p class="mt-4 font-bold text-gray-800">- Sneha Gupta, Age 21</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gamification Section -->
            <section class="py-20 bg-gray-50 fade-in">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="text-center md:text-left">
                            <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Who said karma can't be fun?</h2>
                            <p class="mt-4 text-lg text-gray-600">Our unique gamified system makes doing good deeds rewarding and engaging. Track your progress, compete with friends, and watch your positive impact grow in real-time.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Merged Features Section -->
            <section class="py-20 fade-in">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-800">A Platform Built for Impact</h1>
                        <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Discover the unique features that make PapRemoval.com a powerful ecosystem for change.</p>
                    </div>
                    <!-- Engagement & Rewards Section -->
                    <div class="mb-20">
                        <h2 class="text-3xl font-bold text-center mb-10">Engagement & Rewards</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">The Seva points</h3>
                                <p class="text-gray-600">Our core feature! Count your punya with the unique seva points feature. It increases as you do good deeds.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Recognition</h3>
                                <p class="text-gray-600">As you work with more and more sahayaks more you recognised by the peoples for your good work. </p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Points Redemption</h3>
                                <p class="text-gray-600">After getting more and more seva points you will able to redeem them with exciting merchandies.</p>
                            </div>
                        </div>
                    </div>

                    <!-- A Universe of Seva Section -->
                    <div class="mb-20">
                        <h2 class="text-3xl font-bold text-center mb-10">A Universe of Seva</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                             <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Digital Seva</h3>
                                <p class="text-gray-600">Help the elderly with online tasks like bill payments, ticket booking, or using a smartphone.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 14l9-5-9-5-9 5 9 5z" /><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-5.998 12.078 12.078 0 01.665-6.479L12 14z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Mentorship Seva</h3>
                                <p class="text-gray-600">Educated volunteers can mentor underprivileged students, helping with homework and career guidance.</p>
                            </div>
                             <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Food Seva</h3>
                                <p class="text-gray-600">Connect restaurants, events, and households to distribute surplus food to local shelters and the needy.</p>
                            </div>
                             <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Health Seva</h3>
                                <p class="text-gray-600">Volunteer doctors and healthcare professionals can offer periodic free check-ups and health camps.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Skill-Based Volunteering</h3>
                                <p class="text-gray-600">List your professional skills—legal, tech, medical, teaching—to get matched with specific, impactful needs.</p>
                            </div>
                             <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-teal/10 text-teal p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Event-Based Seva</h3>
                                <p class="text-gray-600">Join or organize community events like cleanliness drives, tree plantations, or health camps.</p>
                            </div>
                        </div>
                    </div>

                     <!-- Platform & Community Section -->
                    <div>
                        <h2 class="text-3xl font-bold text-center mb-10">Platform & Community</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                             <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Local Language Support</h3>
                                <p class="text-gray-600">Our app is accessible to all, with multi-language options and voice command support for posting tasks.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Seva Wallet</h3>
                                <p class="text-gray-600">Easily track your Punya points, see your badge progress, and manage services offered or received in one place.</p>
                            </div>
                            <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100">
                                <div class="bg-saffron/10 text-saffron p-3 rounded-full inline-block mb-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                                </div>
                                <h3 class="text-xl font-bold mb-2">Impact Insights</h3>
                                <p class="text-gray-600">See your real-world impact. Track how many lives you've touched or how much waste you've helped reduce.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Final CTA -->
            <section id="final-cta" class="bg-teal text-white py-20 fade-in">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold">Ready to make a difference?</h2>
                    <p class="mt-4 text-lg max-w-2xl mx-auto">Join our community of kindness and start your journey today.</p>
                    <div class="mt-8">
                        <a href="#" class="bg-white text-teal font-bold py-4 px-10 rounded-full hover:bg-gray-200 transition duration-300 text-lg page-link" data-page="sevak-register">Register Now</a>
                    </div>
                </div>
            </section>
        </div>

        <!-- How It Works Page -->
        <div id="how-it-works-page" class="page-content hidden">
            <section class="py-20 bg-gray-50">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Simple, Secure, and Seamless</h1>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Whether you're seeking help or offering it, we've made the process intuitive and safe.</p>
                </div>
            </section>

            <section class="py-20">
                <div class="container mx-auto px-6">
                    <!-- Tabs -->
                    <div class="mb-12 border-b border-gray-200">
                        <div class="flex justify-center -mb-px space-x-8" id="how-it-works-tabs">
                            <button class="tab-button active text-teal border-b-2 border-teal py-4 px-1 font-semibold" data-tab="sahayaks">For Sahayaks (I Need Help)</button>
                            <button class="tab-button text-gray-500 hover:text-gray-700 border-b-2 border-transparent py-4 px-1 font-semibold" data-tab="sevaks">For Sevaks (I Want to Help)</button>
                        </div>
                    </div>

                    <!-- Tab Content -->
                    <div id="sahayaks-content" class="tab-content">
                        <div class="grid md:grid-cols-2 gap-12 items-center">
                            <div class="space-y-8">
                                <div class="flex items-start gap-4">
                                    <div class="bg-saffron text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">1</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Post a Request</h3>
                                        <p class="text-gray-600 mt-1">Clearly describe the task you need help with. Our AI will suggest categories to find the right Sevak quickly.</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-4">
                                    <div class="bg-saffron text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">2</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Review & Verify Sevaks</h3>
                                        <p class="text-gray-600 mt-1">Receive offers from nearby Sevaks. Check their verified profiles, skill badges, ratings, and endorsements before accepting.</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-4">
                                    <div class="bg-saffron text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">3</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Complete & Rate</h3>
                                        <p class="text-gray-600 mt-1">Once the task is done, confirm completion in the app and rate your Sevak to help build a trustworthy community.</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <img src="https://placehold.co/600x450/eeeeee/cccccc?text=App+Screenshot" alt="App UI for Sahayaks" class="rounded-xl shadow-lg">
                            </div>
                        </div>
                    </div>

                    <div id="sevaks-content" class="tab-content hidden">
                        <div class="grid md:grid-cols-2 gap-12 items-center">
                            <div class="space-y-8">
                                <div class="flex items-start gap-4">
                                    <div class="bg-teal text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">1</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Find Nearby Tasks</h3>
                                        <p class="text-gray-600 mt-1">Browse a live feed of requests in your area. List your skills (e.g., teaching, tech, medical) to get matched with specific needs.</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-4">
                                    <div class="bg-teal text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">2</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Accept & Complete Seva</h3>
                                        <p class="text-gray-600 mt-1">Accept a task that matches your skills. Communicate with the Sahayak through the app for any clarifications.</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-4">
                                    <div class="bg-teal text-white text-xl font-bold rounded-full w-10 h-10 flex-shrink-0 flex items-center justify-center">3</div>
                                    <div>
                                        <h3 class="text-xl font-bold">Track Your Punya</h3>
                                        <p class="text-gray-600 mt-1">After the task is marked complete, you'll instantly receive your Punya points, earn badges, and see your PapMeter™ go down!</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <img src="https://placehold.co/600x450/eeeeee/cccccc?text=App+Screenshot" alt="App UI for Sevaks" class="rounded-xl shadow-lg">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Safety & Trust Section -->
            <section class="py-20 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Your Safety is Our Seva</h2>
                        <p class="mt-2 text-gray-600">We've built features to ensure a secure and trustworthy experience for everyone.</p>
                    </div>
                    <div class="grid md:grid-cols-4 gap-8 max-w-6xl mx-auto">
                        <div class="text-center p-6">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Verified Profiles</h3>
                            <p class="text-gray-600">All users are verified via a secure OTP process to ensure genuine identities.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Two-Way Rating System</h3>
                            <p class="text-gray-600">Both Sahayaks and Sevaks rate each other after every task, promoting accountability.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Guardian Mode</h3>
                            <p class="text-gray-600">An optional feature for elderly users to share their task activity with a trusted family member.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="bg-teal/10 text-teal p-4 rounded-full inline-block mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
                            </div>
                            <h3 class="text-xl font-bold mb-2">Emergency Alert System</h3>
                            <p class="text-gray-600">Nearby volunteers get instant notifications for urgent help like accidents or medical needs.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- For Partners Page -->
        <div id="for-partners-page" class="page-content hidden">
            <section class="py-20 bg-teal text-white">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold">Amplify Your Impact with PapRemoval.com</h1>
                    <p class="mt-4 text-lg max-w-3xl mx-auto">Partner with us to manage volunteers, organize events, and run impactful CSR campaigns effortlessly.</p>
                </div>
            </section>

            <section class="py-20">
                <div class="container mx-auto px-6">
                    <div class="grid lg:grid-cols-2 gap-16 items-center">
                        <div class="bg-saffron/5 p-10 rounded-xl border border-saffron/20">
                            <h2 class="text-3xl font-bold text-saffron mb-4">For NGOs</h2>
                            <p class="text-lg text-gray-600 mb-6">Streamline your volunteer management and community outreach. Sync your efforts with our platform to find verified, motivated volunteers for your events and causes, amplifying your impact.</p>
                            <ul class="space-y-3 text-gray-700">
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-saffron flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Seamless collaboration and volunteer management</li>
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-saffron flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Access a database of skill-based volunteers</li>
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-saffron flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Provide training workshops (first aid, etc.) to volunteers</li>
                            </ul>
                        </div>
                        <div class="bg-teal/5 p-10 rounded-xl border border-teal/20">
                            <h2 class="text-3xl font-bold text-teal mb-4">For Corporates</h2>
                            <p class="text-lg text-gray-600 mb-6">Engage your employees in meaningful social good. Our "CSR Karma Drives" feature provides a turnkey solution for your corporate social responsibility initiatives, complete with tracking and reporting.</p>
                            <ul class="space-y-3 text-gray-700">
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-teal flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Organize employee volunteering drives</li>
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-teal flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Boost team morale and brand image</li>
                                <li class="flex items-center gap-3"><svg class="w-5 h-5 text-teal flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Receive detailed impact reports for CSR</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section class="py-20 bg-gray-50">
                <div class="container mx-auto px-6 max-w-2xl">
                    <h2 class="text-3xl font-bold text-center mb-8">Get in Touch</h2>
                    <form class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Your Name</label>
                            <input type="text" id="name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="organization" class="block text-sm font-medium text-gray-700">Organization Name</label>
                            <input type="text" id="organization" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="email" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                            <textarea id="message" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal"></textarea>
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-teal text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-dark transition duration-300">Send Message</button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
        <!-- Volunteer Modal -->
<div id="volunteer-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-xl p-8 max-w-lg w-full shadow-lg relative">
    <button id="close-volunteer-modal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
    <h2 class="text-2xl font-bold mb-4 text-teal">Volunteer for this Opportunity</h2>
    <form id="volunteer-form" class="space-y-4">
      <input type="hidden" id="volunteer-opportunity-id">
      <div>
        <label class="block text-sm font-medium text-gray-700">How can you help?</label>
        <textarea id="volunteer-help" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Your previous experience</label>
        <textarea id="volunteer-experience" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"></textarea>
      </div>
      <button type="submit" class="w-full bg-teal text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-dark transition">Submit Application</button>
      <div id="volunteer-feedback" class="text-center text-sm mt-2"></div>
    </form>
  </div>
</div>

        <!-- Sahayak Registration Page -->
        <div id="sahayak-register-page" class="page-content hidden">
            <section class="py-20 bg-saffron/5">
                <div class="container mx-auto px-6 max-w-lg">
                    <div class="text-center mb-8">
                        <h1 class="text-4xl font-bold text-saffron">Become a Sahayak</h1>
                        <p class="mt-2 text-gray-600">Create an account to start getting help from our community of Sevaks.</p>
                    </div>
                    <form class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-6">
                        <div>
                            <label for="sahayak-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="sahayak-name" placeholder="Enter your full name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-saffron focus:border-saffron">
                        </div>
                        <div>
                            <label for="sahayak-mobile" class="block text-sm font-medium text-gray-700">Mobile Number</label>
                            <input type="tel" id="sahayak-mobile" placeholder="Enter your 10-digit mobile number" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-saffron focus:border-saffron">
                        </div>
                        <div>
                            <label for="sahayak-email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="sahayak-email" placeholder="Enter your email" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-saffron focus:border-saffron">
                        </div>
                        <div>
                            <label for="sahayak-password" class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="sahayak-password" placeholder="Create a strong password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-saffron focus:border-saffron">
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-saffron text-white font-bold py-3 px-6 rounded-lg hover:bg-saffron-dark transition duration-300">Register as Sahayak</button>
                        </div>
                        <div class="text-center text-sm text-gray-600">
                            <p>Want to help instead? <a href="#" class="font-medium text-teal hover:underline page-link" data-page="sevak-register">Register as a Sevak</a>.</p>
                        </div>
                    </form>
                </div>
            </section>
        </div>

        <!-- Sevak Registration Page -->
        <div id="sevak-register-page" class="page-content hidden">
            <section class="py-20 bg-teal/5">
                <div class="container mx-auto px-6 max-w-lg">
                    <div class="text-center mb-8">
                        <h1 class="text-4xl font-bold text-teal">Become a Sevak</h1>
                        <p class="mt-2 text-gray-600">Join our community of heroes and start earning Punya points today.</p>
                    </div>
                    <form class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-6">
                        <div>
                            <label for="sevak-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="sevak-name" placeholder="Enter your full name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="sevak-mobile" class="block text-sm font-medium text-gray-700">Mobile Number</label>
                            <input type="tel" id="sevak-mobile" placeholder="Enter your 10-digit mobile number" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                         <div>
                            <label for="sevak-email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="sevak-email" placeholder="Enter your email" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="sevak-password" class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="sevak-password" placeholder="Create a strong password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                         <div>
                            <label class="block text-sm font-medium text-gray-700">What kind of Seva can you offer? (Select all that apply)</label>
                            <div class="mt-2 grid grid-cols-2 gap-4">
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="errands" class="rounded text-teal focus:ring-teal"><span>Daily Errands</span></label>
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="digital" class="rounded text-teal focus:ring-teal"><span>Digital Help</span></label>
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="mentoring" class="rounded text-teal focus:ring-teal"><span>Tutoring/Mentoring</span></label>
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="transport" class="rounded text-teal focus:ring-teal"><span>Transport</span></label>
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="food" class="rounded text-teal focus:ring-teal"><span>Food Distribution</span></label>
                                <label class="flex items-center space-x-2"><input type="checkbox" name="seva-type" value="professional" class="rounded text-teal focus:ring-teal"><span>Professional Skills</span></label>
                            </div>
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-teal text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-dark transition duration-300">Register as Sevak</button>
                        </div>
                         <div class="text-center text-sm text-gray-600">
                            <p>Need help instead? <a href="#" class="font-medium text-saffron hover:underline page-link" data-page="sahayak-register">Register as a Sahayak</a>.</p>
                        </div>
                    </form>
                </div>
            </section>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard-page" class="page-content hidden">
            <section class="py-20 bg-gray-50">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Community Leaderboard</h1>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">See our top Sevaks who are making the biggest impact!</p>
                </div>
            </section>

            <section class="py-20">
                <div class="container mx-auto px-6 max-w-4xl">
                    <div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden">
                        <table class="w-full text-left">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="p-4 font-bold text-gray-600">Rank</th>
                                    <th class="p-4 font-bold text-gray-600">Sevak</th>
                                    <th class="p-4 font-bold text-gray-600 text-right">Punya Points</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboard-body">
                                <!-- Ranks will be dynamically inserted here by Firebase -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Points Redeem Section -->
            <section class="py-16 bg-white border-t border-gray-200">
                <div class="container mx-auto px-6 max-w-4xl">
                    <h2 class="text-3xl font-bold text-center text-teal mb-8">Redeem Your Punya Points for Merchandise</h2>
                    <p class="text-center text-gray-600 mb-10">Exchange your hard-earned points for exclusive PapRemoval.com goodies! Each item requires a specific amount of points to redeem.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/mug.png" alt="PapRemoval Mug" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval Mug</h3>
                            <p class="text-gray-600 mb-2">Start your day with kindness!</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 500 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/t-shirt.png" alt="PapRemoval T-Shirt" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval T-Shirt</h3>
                            <p class="text-gray-600 mb-2">Wear your seva with pride.</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 1200 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/cap.png" alt="PapRemoval Cap" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval Cap</h3>
                            <p class="text-gray-600 mb-2">Stay cool, stay kind.</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 800 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/notebook.jpg" alt="PapRemoval Notebook" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval Notebook</h3>
                            <p class="text-gray-600 mb-2">Jot down your seva journey.</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 600 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/badge.png" alt="PapRemoval Badge" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval Badge</h3>
                            <p class="text-gray-600 mb-2">Show off your seva spirit.</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 300 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                        <div class="bg-gray-50 rounded-xl shadow-md p-6 flex flex-col items-center">
                            <img src="photos/backpack.png" alt="PapRemoval Eco Bag" class="mb-4 rounded">
                            <h3 class="font-bold text-lg mb-2">PapRemoval Backpack</h3>
                            <p class="text-gray-600 mb-2">Carry kindness everywhere.</p>
                            <span class="font-bold text-saffron mb-2">Redeem for 1000 Points</span>
                            <button class="bg-teal text-white px-4 py-2 rounded-full font-bold hover:bg-teal-dark transition" disabled>Redeem</button>
                        </div>
                    </div>
                    <p class="text-center text-gray-500 mt-8 text-sm">*Redeem option coming soon. Stay tuned for updates!</p>
                </div>
            </section>
        </div>
        
        <!-- Login Page -->
        <div id="login-page" class="page-content hidden">
            <section class="py-20 bg-gray-50">
                <div class="container mx-auto px-6 max-w-md">
                    <div class="text-center mb-8">
                        <h1 class="text-4xl font-bold text-gray-800">Welcome Back!</h1>
                        <p class="mt-2 text-gray-600">Log in to continue your Seva journey.</p>
                    </div>
                    <form class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-6">
                        <div>
                            <label for="login-email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="login-email" placeholder="Enter your email" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <label for="login-password" class="block text-sm font-medium text-gray-700">Password</label>
                            <input type="password" id="login-password" placeholder="Enter your password" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-teal text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-dark transition duration-300">Login</button>
                        </div>
                        <div class="text-center text-sm text-gray-600">
                            <p>Don't have an account? <a href="#" class="font-medium text-teal hover:underline page-link" data-page="sevak-register">Register here</a>.</p>
                        </div>
                    </form>
                </div>
            </section>
        </div>

     <!-- Seva Stories Page -->
        <div id="seva-stories-page" class="page-content hidden">
            <div class="bg-gray-100 min-h-screen">
                <div class="container mx-auto max-w-2xl py-8 px-4">
                    <div id="create-post-section" class="bg-white p-4 rounded-lg shadow-md mb-8 hidden">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">Share your Seva Story</h2>
                       <form id="new-story-form">
                            <textarea id="story-text" class="w-full p-3 border border-gray-300 rounded-md focus:ring-teal focus:border-teal" rows="4" placeholder="What good deed did you do today?" required></textarea>
                            <div class="flex justify-between items-center mt-4">
                                <div>
                                    <label for="story-image" class="cursor-pointer text-teal hover:text-teal-dark font-medium inline-flex items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                        <span>Add Photo</span>
                                    </label>
                                    <input type="file" id="story-image" class="hidden" accept="image/*">
                                    <span id="file-name" class="text-sm text-gray-500 ml-3"></span>
                                </div>
        
                                <button type="submit" id="post-story-button" class="bg-teal text-white font-bold py-2 px-6 rounded-full hover:bg-teal-dark transition disabled:bg-gray-400">Post</button>
                            </div>
                        </form>
                    </div>

                    <div id="stories-feed" class="space-y-6">
                        </div>
                </div>
            </div>
        </div>
        <!-- Donate Page -->
        <div id="donate-page" class="page-content hidden">
            <section class="py-20 bg-saffron/10">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold text-saffron">Support the Movement</h1>
                    <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">Your contribution helps us maintain the platform, organize community events, and spread kindness across India. Every rupee makes a difference!</p>
                </div>
            </section>

            <section class="py-20">
                <div class="container mx-auto px-6 max-w-lg">
                    <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-8">
                        <div>
                            <h3 class="text-2xl font-bold text-center text-gray-800 mb-6">Donate via UPI</h3>
                            <div class="flex justify-center">
                                <img src="photos/payment_QR.jpg" alt="UPI QR Code" class="rounded-lg shadow-md">
                            </div>
                            <p class="text-center mt-4 text-gray-600">Scan the QR code with any UPI app (GPay, PhonePe, Paytm, etc.)</p>
                            <p class="text-center mt-2 font-bold text-teal">papremoval@upi</p>
                        </div>

                        <div class="flex items-center text-gray-500">
                            <hr class="flex-grow border-t border-gray-300">
                            <span class="px-4">OR</span>
                            <hr class="flex-grow border-t border-gray-300">
                        </div>

                        <div>
                             <h3 class="text-2xl font-bold text-center text-gray-800 mb-6">Choose an Amount</h3>
                             <div class="grid grid-cols-3 gap-4 mb-4">
                                 <button class="bg-gray-200 hover:bg-teal hover:text-white font-bold py-3 rounded-lg transition">₹101</button>
                                 <button class="bg-gray-200 hover:bg-teal hover:text-white font-bold py-3 rounded-lg transition">₹251</button>
                                 <button class="bg-gray-200 hover:bg-teal hover:text-white font-bold py-3 rounded-lg transition">₹501</button>
                             </div>
                             <input type="number" placeholder="Or enter a custom amount" class="w-full p-3 border border-gray-300 rounded-md text-center focus:ring-teal focus:border-teal">
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- ...existing code... -->
<div id="admin-page" class="page-content hidden">
    <section class="py-20 bg-gray-50">
        <div class="container mx-auto px-6 max-w-xl">
            <h1 class="text-3xl font-bold text-center mb-8 text-teal">Admin: Give Seva Points</h1>
            <form id="seva-points-form" class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 space-y-6">
                <div>
                    <label for="user-email-search" class="block text-sm font-medium text-gray-700">User Email</label>
                    <input type="email" id="user-email-search" placeholder="Enter user email" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                </div>
                <div>
                    <label for="points-to-give" class="block text-sm font-medium text-gray-700">Seva Points</label>
                    <input type="number" id="points-to-give" placeholder="Enter points to give" required min="1" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal focus:border-teal">
                </div>
                <button type="submit" class="w-full bg-teal text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-dark transition duration-300">Give Points</button>
                <div id="admin-feedback" class="text-center text-sm mt-2"></div>
            </form>
        </div>
    </section>
</div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-3 gap-8">
                <div class="md:col-span-1">
                    <h3 class="text-xl font-bold mb-2">PapRemoval.com</h3>
                    <p class="text-gray-400">Our mission is to make kindness a daily habit. By connecting people who need help with those who want to help, we're building a stronger, more compassionate India, one seva at a time.</p>
                </div>
                <div>
                    <h4 class="font-semibold text-lg mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#home" class="text-gray-400 hover:text-white page-link" data-page="home">Home</a></li>
                        <li><a href="#how-it-works" class="text-gray-400 hover:text-white page-link" data-page="how-it-works">How It Works</a></li>
                        <li><a href="#leaderboard" class="text-gray-400 hover:text-white page-link" data-page="leaderboard">Leaderboard</a></li>
                        <li><a href="#partners" class="text-gray-400 hover:text-white page-link" data-page="partners">For Partners</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-lg mb-4">Follow Us</h4>
                    <div class="flex space-x-4 mb-6">
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" /></svg></a>
                        <a href="#" class="text-gray-400 hover:text-white"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.013-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.793 2.013 10.147 2 12.315 2zm0 1.623c-2.392 0-2.72.009-3.685.053-.942.044-1.557.2-2.086.423-.66.266-1.153.648-1.636 1.131-.484.484-.866.976-1.131 1.636-.223.53-.38 1.144-.423 2.086-.044.965-.053 1.293-.053 3.685s.009 2.72.053 3.685c.044.942.2 1.557.423 2.086.266.66.648 1.153 1.131 1.636.484.484.976.866 1.636 1.131.53.223 1.144.38 2.086.423.965.044 1.293.053 3.685.053s2.72-.009 3.685-.053c.942-.044 1.557-.2 2.086-.423.66-.266 1.153-.648 1.636-1.131.484-.484.866-.976-1.131-1.636.223-.53.38-1.144.423-2.086.044-.965.053-1.293.053-3.685s-.009-2.72-.053-3.685c-.044-.942-.2-1.557-.423-2.086-.266-.66-.648-1.153-1.131-1.636-.484-.484-.976-.866-1.636-1.131-.53-.223-1.144-.38-2.086-.423-.965-.044-1.293-.053-3.685-.053zm0 3.823a4.102 4.102 0 110 8.204 4.102 4.102 0 010-8.204zm0 1.623a2.479 2.479 0 100 4.958 2.479 2.479 0 000-4.958zm6.343-4.198a.962.962 0 11-1.924 0 .962.962 0 011.924 0z" clip-rule="evenodd" /></svg></a>
                    </div>
                </div>
            </div>
            <div class="mt-10 border-t border-gray-700 pt-6 text-center text-gray-500 text-sm">
                <p>&copy; 2024 PapRemoval.com. All Rights Reserved.</p>
                <p class="mt-1"><a href="#" class="hover:text-white">Privacy Policy</a> | <a href="#" class="hover:text-white">Terms of Service</a></p>
            </div>
        </div>
    </footer>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    <script>
        // Your web app's Firebase configuration - UPDATED FOR 'papremovefinal' PROJECT
        const firebaseConfig = {
            apiKey: "AIzaSyBSBVQX9Po5HiONSKw9XIDY-NOq0E7nkPo",
            authDomain: "papremovefinal.firebaseapp.com",
            projectId: "papremovefinal",
            storageBucket: "papremovefinal.firebasestorage.app", // Corrected this line for you
            messagingSenderId: "282420293291",
            appId: "1:282420293291:web:2393fbcc91087d2fb051ee",
            measurementId: "G-NG1MC90KEQ"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();

        document.addEventListener('DOMContentLoaded', function () {
            // --- Page Navigation & UI Elements ---
            const pageLinks = document.querySelectorAll('.page-link');
            const pages = document.querySelectorAll('.page-content');
            const mobileMenu = document.getElementById('mobile-menu');
            const registerDropdownButton = document.getElementById('register-dropdown-button');
            const registerDropdownMenu = document.getElementById('register-dropdown-menu');
            
            const authLinks = document.getElementById('auth-links');
            const userSession = document.getElementById('user-session');
            const userEmailSpan = document.getElementById('user-email');
            const logoutButton = document.getElementById('logout-button');

            const mobileAuthLinks = document.getElementById('mobile-auth-links');
            const mobileUserSession = document.getElementById('mobile-user-session');
            const mobileUserEmailSpan = document.getElementById('mobile-user-email');
            const mobileLogoutButton = document.getElementById('mobile-logout-button');
            
            const leaderboardBody = document.getElementById('leaderboard-body');
            const joinMovementCta = document.getElementById('join-movement-cta');
            const finalCta = document.getElementById('final-cta');
            
            
            // --- Seva Stories Page Elements ---
            const createPostSection = document.getElementById('create-post-section');
            const newStoryForm = document.getElementById('new-story-form');
            const storyImageInput = document.getElementById('story-image');
            const storyFileName = document.getElementById('file-name');
            const storiesFeed = document.getElementById('stories-feed');
            const postStoryButton = document.getElementById('post-story-button');
            function renderStory(story, storyId) {
    const postDate = story.createdAt && story.createdAt.toDate
        ? story.createdAt.toDate().toLocaleString('en-IN')
        : 'Just now';
    const authorInitial = story.authorName ? story.authorName.charAt(0).toUpperCase() : '?';
    const imageHtml = story.imageUrl ? `<img src="${story.imageUrl}" alt="Seva Story Image" class="mt-4 rounded-lg w-full object-cover max-h-96">` : '';
    const likeCount = story.likes ? story.likes.length : 0;
    const commentCount = story.comments ? story.comments.length : 0;

    return `
    <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100 fade-in visible" id="story-${storyId}">
        <div class="flex items-center mb-4">
            <div class="w-12 h-12 rounded-full bg-saffron text-white flex items-center justify-center text-xl font-bold mr-4">
                ${authorInitial}
            </div>
            <div>
                <p class="font-bold text-gray-800">${story.authorName || 'Anonymous'}</p>
                <p class="text-sm text-gray-500">${postDate}</p>
            </div>
        </div>
        <p class="text-gray-700 whitespace-pre-wrap text-lg">${story.text}</p>
        ${imageHtml}
        <div class="mt-4 pt-4 border-t border-gray-200 flex items-center space-x-6 text-gray-600">
            <button class="flex items-center space-x-2 hover:text-red-500 transition like-btn" data-id="${storyId}">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                <span>Like</span>
                <span class="ml-1 font-semibold" id="like-count-${storyId}">${likeCount}</span>
            </button>
            <button class="flex items-center space-x-2 hover:text-teal transition comment-btn" data-id="${storyId}">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>
                <span>Comment</span>
                <span class="ml-1 font-semibold" id="comment-count-${storyId}">${commentCount}</span>
            </button>
        </div>
        <div class="mt-2" id="comments-section-${storyId}" style="display:none;"></div>
        <form class="comment-form mt-2 flex gap-2" data-id="${storyId}" style="display:none;">
            <input type="text" class="comment-input flex-1 border border-gray-300 rounded px-2 py-1" placeholder="Write a comment..." required>
            <button type="submit" class="bg-teal text-white px-4 py-1 rounded">Post</button>
        </form>
    </div>
    `;
}

            // --- Opportunities Page Elements ---
            const postOpportunitySection = document.getElementById('post-opportunity-section');
            const newOpportunityForm = document.getElementById('new-opportunity-form');
            const opportunitiesFeed = document.getElementById('opportunities-feed');

            function showPage(pageId) {
                pages.forEach(page => page.classList.add('hidden'));
                const activePage = document.getElementById(pageId + '-page');
                if (activePage) {
                    activePage.classList.remove('hidden');
                    if (pageId === 'leaderboard') {
                        fetchAndDisplayLeaderboard();
                    }
                    if (pageId === 'seva-stories') {
                        fetchAndDisplayStories();
                    }
                    // ADD THIS NEW PART
                    if (pageId === 'opportunities') {
                        fetchAndDisplayOpportunities();
                    }
                }
                window.scrollTo(0, 0);
                mobileMenu.classList.add('hidden');
                registerDropdownMenu.classList.add('hidden');
            }

            pageLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    showPage(pageId);
                });
            });

            // --- Admin Page Elements ---
            const adminTabLink = document.getElementById('admin-tab-link');
            const mobileAdminTabLink = document.getElementById('mobile-admin-tab-link');
            // ...existing code...
            const sevaPointsForm = document.getElementById('seva-points-form');
            const adminFeedback = document.getElementById('admin-feedback');

            if (sevaPointsForm) {
                sevaPointsForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    adminFeedback.textContent = '';
                    const email = sevaPointsForm['user-email-search'].value.trim();
                    const points = parseInt(sevaPointsForm['points-to-give'].value, 10);

                    if (!email || isNaN(points) || points <= 0) {
                        adminFeedback.textContent = "Please enter a valid email and points.";
                        adminFeedback.className = "text-center text-red-600 mt-2";
                        return;
                    }

                    try {
                        // Find user by email
                         const userQuery = await db.collection('users').where('email', '==', email).limit(1).get();
                         if (userQuery.empty) {
                            adminFeedback.textContent = "User not found.";
                            adminFeedback.className = "text-center text-red-600 mt-2";
                            return;
                             }
                            const userDoc = userQuery.docs[0];
                            const currentPoints = userDoc.data().punyaPoints || 0;
                            await userDoc.ref.update({
                                punyaPoints: currentPoints + points
                            });
                            adminFeedback.textContent = `Successfully added ${points} points to ${email}.`;
                             adminFeedback.className = "text-center text-green-600 mt-2";
                            sevaPointsForm.reset();
                        } catch (err) {
                            adminFeedback.textContent = "Error: " + err.message;
                            adminFeedback.className = "text-center text-red-600 mt-2";
                    }
                });
            }

            // --- Mobile Menu Toggle ---
            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // --- Register Dropdown Toggle ---
            registerDropdownButton.addEventListener('click', () => {
                registerDropdownMenu.classList.toggle('hidden');
            });
            
            window.addEventListener('click', function(e) {
                if (!registerDropdownButton.contains(e.target) && !registerDropdownMenu.contains(e.target)) {
                    registerDropdownMenu.classList.add('hidden');
                }
            });

            // --- Firebase Auth State Listener ---
            let userPointsUnsubscribe = null;  
            auth.onAuthStateChanged(async (user) => {
            // Hide all conditional UI elements initially
                authLinks.style.display = 'none';
                userSession.style.display = 'none';
                mobileAuthLinks.style.display = 'none';
                mobileUserSession.style.display = 'none';
                postOpportunitySection.classList.add('hidden');
                createPostSection.classList.add('hidden');
                adminTabLink.classList.add('hidden');
                mobileAdminTabLink.classList.add('hidden');

                if (user) {
                    userSession.style.display = 'flex';
                    mobileUserSession.style.display = 'block';

                    // Fetch user's name and points from Firestore
                    let displayName = '';
                    let punyaPoints = 0;
                    try {
                        const userDoc = await db.collection('users').doc(user.uid).get();
                        if (userDoc.exists) {
                            const data = userDoc.data();
                            displayName = data.name || user.email;
                            punyaPoints = data.punyaPoints || 0;
                            if (data.userType === 'admin') {
                                adminTabLink.classList.remove('hidden');
                                mobileAdminTabLink.classList.remove('hidden');
                            }
                            if (data.userType === 'sahayak') {
                                postOpportunitySection.classList.remove('hidden');
                        }
                        } else {
                            displayName = user.email;
                        }
                    } catch (error) {
                        console.error("Error fetching user data:", error);
                        displayName = user.email;
                        }

                    userEmailSpan.textContent = displayName;
                    mobileUserEmailSpan.textContent = displayName;
                    document.getElementById('user-punya-points').textContent = punyaPoints;
                    // Update homepage punya score if present
                    if (document.getElementById('punya-score-value')) {
                        document.getElementById('punya-score-value').textContent = punyaPoints;
                    }

                    joinMovementCta.style.display = 'none';
                    finalCta.style.display = 'none';
                    createPostSection.classList.remove('hidden');
                } else {
                    authLinks.style.display = 'flex';
                    mobileAuthLinks.style.display = 'block';
                    joinMovementCta.style.display = 'block';
                    finalCta.style.display = 'block';
            }
    });


            // --- Logout ---
            logoutButton.addEventListener('click', () => auth.signOut());
            mobileLogoutButton.addEventListener('click', () => auth.signOut());

            // --- Login Form ---

            
            
            const loginForm = document.querySelector('#login-page form');
            loginForm.addEventListener('submit', e => {
                e.preventDefault();
                const email = loginForm['login-email'].value;
                const password = loginForm['login-password'].value;
                auth.signInWithEmailAndPassword(email, password)
                    .then(userCredential => {
                        loginForm.reset();
                        showPage('home');
                    })
                    .catch(error => {
                        alert(error.message);
                    });
            });

            // --- Sevak Registration Form ---
            const sevakRegisterForm = document.querySelector('#sevak-register-page form');
            sevakRegisterForm.addEventListener('submit', e => {
                e.preventDefault();
                const name = sevakRegisterForm['sevak-name'].value;
                const email = sevakRegisterForm['sevak-email'].value;
                const password = sevakRegisterForm['sevak-password'].value;
                
                auth.createUserWithEmailAndPassword(email, password)
                    .then(cred => {
                        return db.collection('users').doc(cred.user.uid).set({
                            name: name,
                            email: email,
                            userType: 'sevak',
                            punyaPoints: 0,
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                    }).then(() => {
                        sevakRegisterForm.reset();
                        showPage('leaderboard');
                    }).catch(err => {
                        alert(err.message);
                    });
            });

            // --- Sahayak Registration Form ---
            const sahayakRegisterForm = document.querySelector('#sahayak-register-page form');
            sahayakRegisterForm.addEventListener('submit', e => {
                e.preventDefault();
                const name = sahayakRegisterForm['sahayak-name'].value;
                const email = sahayakRegisterForm['sahayak-email'].value;
                const password = sahayakRegisterForm['sahayak-password'].value;

                auth.createUserWithEmailAndPassword(email, password)
                    .then(cred => {
                        return db.collection('users').doc(cred.user.uid).set({
                            name: name,
                            email: email,
                            userType: 'sahayak',
                            punyaPoints: 0,
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                    }).then(() => {
                        sahayakRegisterForm.reset();
                        showPage('home');
                    }).catch(err => {
                        alert(err.message);
                    });
            });

            // --- Seva Stories Functionality ---
            function createFlowerShower() {
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => createFlower(), i * 50);
                }
            }
            
            storyImageInput.addEventListener('change', () => {
                if (storyImageInput.files.length > 0) {
                    storyFileName.textContent = storyImageInput.files[0].name;
                } else {
                    storyFileName.textContent = '';
                }
            });

            newStoryForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const user = auth.currentUser;
                if (!user) {
                    alert("You must be logged in to post a story.");
                    return;
                }

                const storyText = newStoryForm['story-text'].value.trim();
                const storyImageFile = storyImageInput.files[0];

                if (!storyText) {
                    alert("Please write something for your story.");
                    return;
                }

                postStoryButton.disabled = true;
                postStoryButton.textContent = 'Posting...';

                try {
                    let imageUrl = null;
                    if (storyImageFile) {
                        const filePath = `stories/${user.uid}/${Date.now()}_${storyImageFile.name}`;
                        const fileRef = storage.ref(filePath);
                        const uploadTask = await fileRef.put(storyImageFile);
                        imageUrl = await uploadTask.ref.getDownloadURL();
                    }

                    const userDoc = await db.collection('users').doc(user.uid).get();
                    const userName = userDoc.exists ? userDoc.data().name : user.email;

                    await db.collection('stories').add({
                        text: storyText,
                        imageUrl: imageUrl,
                        authorName: userName,
                        authorId: user.uid,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                        likes: []
                    });

                    newStoryForm.reset();
                    storyFileName.textContent = '';
                    createFlowerShower();
                } catch (error) {
                    console.error("Error posting story:", error);
                    alert("Failed to post story. Please try again.");
                } finally {
                    postStoryButton.disabled = false;
                    postStoryButton.textContent = 'Post';
                }
            });

            function fetchAndDisplayStories() {
                db.collection('stories').orderBy('createdAt', 'desc').onSnapshot(snapshot => {
                    if (snapshot.empty) {
                        storiesFeed.innerHTML = `<div class="text-center text-gray-500 py-10"><p>No stories yet. Be the first to share your Seva!</p></div>`;
                        return;
                    }
                    
                    let storiesHtml = '';
                    snapshot.forEach(doc => {
                        storiesHtml += renderStory(doc.data(), doc.id);
                    });
                    storiesFeed.innerHTML = storiesHtml;
                }, error => {
                    console.error("Error fetching stories: ", error);
                    storiesFeed.innerHTML = `<div class="text-center text-red-500 py-10"><p>Could not load stories. Please check your connection.</p></div>`;
                });
            }

// Like button logic
storiesFeed.addEventListener('click', async function(e) {
    if (e.target.closest('.like-btn')) {
        const btn = e.target.closest('.like-btn');
        const storyId = btn.getAttribute('data-id');
        const user = auth.currentUser;
        if (!user) {
            alert("Please log in to like stories.");
            return;
        }
        const storyRef = db.collection('stories').doc(storyId);
        const storyDoc = await storyRef.get();
        let likes = storyDoc.data().likes || [];
        if (likes.includes(user.uid)) {
            // Unlike
            likes = likes.filter(uid => uid !== user.uid);
        } else {
            // Like
            likes.push(user.uid);
        }
        await storyRef.update({ likes: likes });
        document.getElementById(`like-count-${storyId}`).textContent = likes.length;
    }

    // Show/hide comments
    if (e.target.closest('.comment-btn')) {
        const btn = e.target.closest('.comment-btn');
        const storyId = btn.getAttribute('data-id');
        const section = document.getElementById(`comments-section-${storyId}`);
        const form = document.querySelector(`.comment-form[data-id="${storyId}"]`);
        if (section.style.display === "none") {
            section.style.display = "block";
            form.style.display = "flex";
            loadComments(storyId);
        } else {
            section.style.display = "none";
            form.style.display = "none";
        }
    }
});

// Comment submit logic
storiesFeed.addEventListener('submit', async function(e) {
    if (e.target.classList.contains('comment-form')) {
        e.preventDefault();
        const storyId = e.target.getAttribute('data-id');
        const input = e.target.querySelector('.comment-input');
        const commentText = input.value.trim();
        const user = auth.currentUser;
        if (!user || !commentText) return;
        const userDoc = await db.collection('users').doc(user.uid).get();
        const userName = userDoc.exists ? userDoc.data().name : user.email;
        const comment = {
            userId: user.uid,
            userName: userName,
            text: commentText,
            createdAt: new Date() // Use a real JS Date object
        };
        // Add comment to Firestore array
        await db.collection('stories').doc(storyId).update({
            comments: firebase.firestore.FieldValue.arrayUnion(comment)
        });
        input.value = '';
        loadComments(storyId);
        // Update comment count
        const storyDoc = await db.collection('stories').doc(storyId).get();
        const comments = storyDoc.data().comments || [];
        document.getElementById(`comment-count-${storyId}`).textContent = comments.length;
    }
});

// Load comments for a story
async function loadComments(storyId) {
    const section = document.getElementById(`comments-section-${storyId}`);
    const storyDoc = await db.collection('stories').doc(storyId).get();
    const comments = storyDoc.data().comments || [];
    section.innerHTML = comments.length === 0
        ? `<div class="text-gray-400 text-sm">No comments yet.</div>`
        : comments.map(c => `
            <div class="border-b py-1">
                <span class="font-bold">${c.userName || 'User'}:</span>
                <span>${c.text}</span>
                <span class="text-xs text-gray-400 ml-2">${c.createdAt && c.createdAt.toDate ? c.createdAt.toDate().toLocaleString('en-IN') : ''}</span>
            </div>
        `).join('');
}

           function renderOpportunity(opportunity, opportunityId) {
    const postDate = opportunity.createdAt ? opportunity.createdAt.toDate().toLocaleString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' }) : 'Just now';
    let applicationsHtml = '';
    // Show applications if current user is the author
    if (auth.currentUser && opportunity.authorId === auth.currentUser.uid) {
        applicationsHtml = `<div class="mt-4"><strong>Volunteer Applications:</strong><div id="applications-${opportunityId}" class="mt-2 text-sm text-gray-700"></div></div>`;
        // Fetch applications
        db.collection('opportunities').doc(opportunityId).collection('applications').orderBy('appliedAt', 'desc').get().then(snapshot => {
            let apps = '';
            snapshot.forEach(doc => {
                const app = doc.data();
                apps += `
                <div class="border p-2 rounded mb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
                    <div>
                        <div><b>${app.name}</b> (${app.email})</div>
                        <div><b>How can help:</b> ${app.help}</div>
                        <div><b>Experience:</b> ${app.experience}</div>
                        <div class="text-xs text-gray-400">${app.appliedAt ? app.appliedAt.toDate().toLocaleString('en-IN') : ''}</div>
                    </div>
                    <form class="give-seva-form flex items-center gap-2" data-userid="${app.userId}" data-email="${app.email}">
                        <input type="number" min="1" placeholder="Points" class="seva-points-input border border-gray-300 rounded px-2 py-1 w-20" required>
                        <button type="submit" class="bg-teal text-white px-3 py-1 rounded hover:bg-teal-dark">Give Points</button>
                        <span class="give-seva-feedback text-xs ml-2"></span>
                    </form>
                </div>`;
            });
            document.getElementById(`applications-${opportunityId}`).innerHTML = apps || '<div class="text-gray-400">No applications yet.</div>';
        });
    }
    return `
    <div class="bg-white p-6 rounded-lg shadow-md border border-gray-100">
        <div class="mb-4">
            <h2 class="text-2xl font-bold text-teal">${opportunity.title}</h2>
            <p class="text-sm text-gray-500">Posted by ${opportunity.authorName} on ${postDate}</p>
        </div>
        <div class="mb-4">
            <p class="font-semibold text-gray-800 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                </svg>
                ${opportunity.location}
            </p>
        </div>
        <p class="text-gray-700 whitespace-pre-wrap mb-4">${opportunity.description}</p>
        <div class="pt-4 border-t border-gray-200 flex justify-end">
            <button class="bg-saffron text-white font-bold py-2 px-5 rounded-full hover:bg-saffron-dark transition volunteer-btn" data-id="${opportunityId}">Volunteer</button>
        </div>
        ${applicationsHtml}
    </div>
    `;
}
            // --- Opportunities Functionality ---

            // Handle the new opportunity form submission
            newOpportunityForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const user = auth.currentUser;
                if (!user) {
                    alert("You must be logged in to post an opportunity.");
                    return;
                }

                const postButton = document.getElementById('post-opportunity-button');
                postButton.disabled = true;
                postButton.textContent = 'Posting...';

                try {
                    const userDoc = await db.collection('users').doc(user.uid).get();
                    const authorName = userDoc.exists ? userDoc.data().name : user.email;

                    await db.collection('opportunities').add({
                        title: newOpportunityForm['opportunity-title'].value.trim(),
                        location: newOpportunityForm['opportunity-location'].value.trim(),
                        description: newOpportunityForm['opportunity-description'].value.trim(),
                        authorName: authorName,
                        authorId: user.uid,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    });

                    newOpportunityForm.reset();
                    fetchAndDisplayOpportunities(); // Refresh the feed

                } catch (error) {
                    console.error("Error posting opportunity:", error);
                    alert("Failed to post opportunity. Please try again.");
                } finally {
                    postButton.disabled = false;
                    postButton.textContent = 'Post Opportunity';
                }
            });

            // Function to fetch opportunities from Firestore and display them
            function fetchAndDisplayOpportunities() {
                db.collection('opportunities').orderBy('createdAt', 'desc').onSnapshot(snapshot => {
                    if (snapshot.empty) {
                        opportunitiesFeed.innerHTML = `<div class="text-center text-gray-500 py-10"><p>No opportunities posted yet. Check back soon!</p></div>`;
                        return;
                    }
                    
                    let opportunitiesHtml = '';
                    snapshot.forEach(doc => {
                        opportunitiesHtml += renderOpportunity(doc.data(), doc.id);
                    });
                    opportunitiesFeed.innerHTML = opportunitiesHtml;
                }, error => {
                    console.error("Error fetching opportunities: ", error);
                    opportunitiesFeed.innerHTML = `<div class="text-center text-red-500 py-10"><p>Could not load opportunities.</p></div>`;
                });
            }

            // Function to generate the HTML for a single opportunity post



document.addEventListener('submit', async function(e) {
    if (e.target.classList.contains('give-seva-form')) {
        e.preventDefault();
        const form = e.target;
        const userId = form.getAttribute('data-userid');
        const email = form.getAttribute('data-email');
        const pointsInput = form.querySelector('.seva-points-input');
        const feedback = form.querySelector('.give-seva-feedback');
        const points = parseInt(pointsInput.value, 10);

        if (!points || points < 1) {
            feedback.textContent = "Enter valid points";
            feedback.className = "give-seva-feedback text-xs text-red-600 ml-2";
            return;
        }

        try {
            const userDoc = await db.collection('users').doc(userId).get();
            if (!userDoc.exists) {
                feedback.textContent = "User not found";
                feedback.className = "give-seva-feedback text-xs text-red-600 ml-2";
                return;
            }
            const currentPoints = userDoc.data().punyaPoints || 0;
            await db.collection('users').doc(userId).update({
                punyaPoints: currentPoints + points
            });
            feedback.textContent = `Gave ${points} points!`;
            feedback.className = "give-seva-feedback text-xs text-green-600 ml-2";
            pointsInput.value = '';
        } catch (err) {
            feedback.textContent = "Error!";
            feedback.className = "give-seva-feedback text-xs text-red-600 ml-2";
        }
    }
});

document.getElementById('close-volunteer-modal').addEventListener('click', () => {
    document.getElementById('volunteer-modal').classList.add('hidden');
});
window.addEventListener('click', function(e) {
    const modal = document.getElementById('volunteer-modal');
    if (e.target === modal) modal.classList.add('hidden');
});

document.getElementById('volunteer-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    const user = auth.currentUser;
    const feedback = document.getElementById('volunteer-feedback');
    if (!user) {
        feedback.textContent = "You must be logged in as a Sevak.";
        feedback.className = "text-center text-red-600 mt-2";
        return;
    }
    const opportunityId = document.getElementById('volunteer-opportunity-id').value;
    const help = document.getElementById('volunteer-help').value.trim();
    const experience = document.getElementById('volunteer-experience').value.trim();

    if (!help || !experience) {
        feedback.textContent = "Please fill all fields.";
        feedback.className = "text-center text-red-600 mt-2";
        return;
    }

    try {
        const userDoc = await db.collection('users').doc(user.uid).get();
        const name = userDoc.exists ? userDoc.data().name : user.email;
        await db.collection('opportunities').doc(opportunityId)
            .collection('applications').doc(user.uid).set({
                userId: user.uid,
                name: name,
                email: user.email,
                help,
                experience,
                appliedAt: firebase.firestore.FieldValue.serverTimestamp()
            });
        feedback.textContent = "Application submitted!";
        feedback.className = "text-center text-green-600 mt-2";
        setTimeout(() => {
            document.getElementById('volunteer-modal').classList.add('hidden');
        }, 1200);
    } catch (err) {
        feedback.textContent = "Error: " + err.message;
        feedback.className = "text-center text-red-600 mt-2";
    }
});

            // --- Leaderboard Logic ---
            function fetchAndDisplayLeaderboard() {
                db.collection('users')
                    .where('punyaPoints', '>', 0) // New: Only shows users with more than 0 points
                    .orderBy('punyaPoints', 'desc') // Sorts the top scores
                    .limit(10) // Gets the top 10 users
                    .get()
                    .then(snapshot => {
                        let html = '';
                        let rank = 1;
                        if (snapshot.empty) {
                            leaderboardBody.innerHTML = '<tr><td colspan="3" class="p-4 text-center text-gray-500">No scores yet. Be the first to earn Punya Points!</td></tr>';
                            return;
                        }
                        snapshot.docs.forEach(doc => {
                            const user = doc.data();
                            const rankMedal = rank === 1 ? '🥇' : rank === 2 ? '🥈' : rank === 3 ? '🥉' : '';
                            const rankColor = rank === 1 ? 'text-yellow-500' : rank === 2 ? 'text-gray-400' : rank === 3 ? 'text-orange-400' : 'text-gray-500';
                            
                            html += `
                                <tr class="border-b border-gray-200">
                                    <td class="p-4 text-lg font-bold ${rankColor}">${rank} ${rankMedal}</td>
                                    <td class="p-4 font-medium">${user.name}</td>
                                    <td class="p-4 text-right font-bold text-green-600">${user.punyaPoints.toLocaleString('en-IN')}</td>
                                </tr>
                            `;
                            rank++;
                        });
                        leaderboardBody.innerHTML = html;
                    }).catch(err => {
                        console.error("Error fetching leaderboard: ", err);
                        leaderboardBody.innerHTML = '<tr><td colspan="3" class="p-4 text-center text-red-500">Could not load the leaderboard.</td></tr>';
                    });
            }
            
            // --- Flower Blossom Effect ---
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) return;
                scrollTimeout = setTimeout(() => {
                    createFlower();
                    scrollTimeout = null;
                }, 100);
            }, { passive: true });

            function createFlower() {
                const flower = document.createElement('div');
                flower.innerHTML = ['🌸', '🌼', '🌺'][Math.floor(Math.random() * 3)];
                flower.classList.add('flower');
                
                flower.style.left = Math.random() * 100 + 'vw';
                const animationDuration = Math.random() * 3 + 4; // 4 to 7 seconds
                flower.style.animationDuration = animationDuration + 's';
                
                document.body.appendChild(flower);
                
                setTimeout(() => {
                    flower.remove();
                }, animationDuration * 1000);
            }

            // --- Homepage Animations & Carousel (Existing Code) ---
            const papMeterFill = document.getElementById('pap-meter-fill');
            const papMeterValue = document.getElementById('pap-meter-value');
            const punyaScoreValue = document.getElementById('punya-score-value');
            
            if (papMeterFill) {
                setTimeout(() => {
                    papMeterFill.style.width = '25%';
                    papMeterValue.textContent = '25%';
                    
                    let currentPunya = 1500;
                    const targetPunya = 2500;
                    const punyaInterval = setInterval(() => {
                        currentPunya += 25;
                        if (currentPunya >= targetPunya) {
                            currentPunya = targetPunya;
                            clearInterval(punyaInterval);
                        }
                        punyaScoreValue.textContent = currentPunya;
                    }, 50);
                    
                    punyaScoreValue.style.transform = 'scale(1.2)';
                    setTimeout(() => punyaScoreValue.style.transform = 'scale(1)', 300);

                }, 1000);
            }

            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active', 'text-teal', 'border-teal');
                        btn.classList.add('text-gray-500', 'border-transparent');
                    });
                    button.classList.add('active', 'text-teal', 'border-teal');
                    button.classList.remove('text-gray-500', 'border-transparent');
                    tabContents.forEach(content => content.classList.add('hidden'));
                    document.getElementById(tabId + '-content').classList.remove('hidden');
                });
            });
            
            const carouselItems = document.querySelectorAll('.carousel-item');
            let currentStoryIndex = 0;
            if(carouselItems.length > 0) {
                setInterval(() => {
                    carouselItems[currentStoryIndex].classList.remove('active');
                    currentStoryIndex = (currentStoryIndex + 1) % carouselItems.length;
                    carouselItems[currentStoryIndex].classList.add('active');
                }, 5000);
            }

            const faders = document.querySelectorAll('.fade-in');
            const appearOptions = { threshold: 0.2, rootMargin: "0px 0px -50px 0px" };
            const appearOnScroll = new IntersectionObserver(function(entries, observer) {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                });
            }, appearOptions);

            faders.forEach(fader => appearOnScroll.observe(fader));
        });
    </script>
</body>
</html>
